<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: header}" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.iamport.kr/v1/iamport.js"></script>
<style>
    html, body {
        height: 100%;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .container.text-center {
        width: 100%;
    }
</style>
<body>

<div class="container text-center">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="input-group mb-3">
                <input type="text" class="form-control" id="email" placeholder="이메일 입력" aria-label="이메일 입력" aria-describedby="basic-addon2"
                style="width: 250px">
                <div class="input-group-append">
                    <button class="btn btn-primary" type="button" onclick="checkFriend()">전송</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function checkFriend() {
        // 여기에 친구 확인 로직 추가
        var email = document.getElementById('email').value;

        $.ajax({
            type: 'POST',
            url: '/friend/request/' + email,
            success: function(response) {
                // 성공적으로 요청이 완료된 경우 실행할 코드
                alert(response+' 님에게 친구 요청 완료!');
            },
            error: function(error) {
                // 요청이 실패한 경우 실행할 코드
                console.error(error);
                alert('친구 요청 전송에 실패했습니다');
            }
        });
    }
</script>

</body>
</html>
